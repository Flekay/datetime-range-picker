var DateRangePicker;!function(){(DateRangePicker=function(t,e,s){this.parentEl=document.body,this.element="string"==typeof t?document.getElementById(t):t,this.startDate=moment().startOf("day"),this.endDate=moment().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!0,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=moment().subtract(100,"year").format("YYYY"),this.maxYear=moment().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!0,this.ranges={},this.opens="right",this.element.classList.contains("pull-right")&&(this.opens="left"),this.drops="down",this.element.classList.contains("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:moment.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:moment.weekdaysMin(),monthNames:moment.monthsShort(),firstDay:moment.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof e&&null!==e||(e={}),"string"!=typeof(e=Object.assign(Object.assign({},this.element.dataset),e)).template&&(e.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=e.parentEl||this.parentEl;var i,a,n,t=document.createElement("div");if(t.innerHTML=e.template.trim(),this.container=t.firstElementChild,this.parentEl.insertAdjacentElement("beforeEnd",this.container),"object"==typeof e.locale&&("string"==typeof e.locale.direction&&(this.locale.direction=e.locale.direction),"string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel)&&((r=document.createElement("textarea")).innerHTML=e.locale.customRangeLabel,h=r.value,this.locale.customRangeLabel=h),this.container.classList.add(this.locale.direction),"string"==typeof e.startDate&&(this.startDate=moment(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=moment(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=moment(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=moment(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=moment(e.startDate)),"object"==typeof e.endDate&&(this.endDate=moment(e.endDate)),"object"==typeof e.minDate&&(this.minDate=moment(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=moment(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyButtonClasses&&(this.applyButtonClasses=e.applyButtonClasses),"string"==typeof e.applyClass&&(this.applyButtonClasses=e.applyClass),"string"==typeof e.cancelButtonClasses&&(this.cancelButtonClasses=e.cancelButtonClasses),"string"==typeof e.cancelClass&&(this.cancelButtonClasses=e.cancelClass),"object"==typeof e.maxSpan&&(this.maxSpan=e.maxSpan),"object"==typeof e.dateLimit&&(this.maxSpan=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"boolean"==typeof e.showISOWeekNumbers&&(this.showISOWeekNumbers=e.showISOWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"number"==typeof e.minYear&&(this.minYear=e.minYear),"number"==typeof e.maxYear&&(this.maxYear=e.maxYear),"boolean"==typeof e.showCustomRangeLabel&&(this.showCustomRangeLabel=e.showCustomRangeLabel),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker)&&(this.endDate=this.startDate.clone()),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),"function"==typeof e.isCustomDate&&(this.isCustomDate=e.isCustomDate),"boolean"==typeof e.alwaysShowCalendars&&(this.alwaysShowCalendars=e.alwaysShowCalendars),0!=this.locale.firstDay)for(var o=this.locale.firstDay;0<o;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),o--;if(void 0===e.startDate&&void 0===e.endDate&&"INPUT"===this.element.tagName&&"text"===this.element.type&&(n=i=null,2==(u=(t=this.element.value).split(this.locale.separator)).length?(n=moment(u[0],this.locale.format),i=moment(u[1],this.locale.format)):this.singleDatePicker&&""!==t&&(n=moment(t,this.locale.format),i=moment(t,this.locale.format)),null!==n)&&null!==i&&(this.setStartDate(n),this.setEndDate(i)),"object"==typeof e.ranges){var l=Object.keys(e.ranges);for(let t=0;t<l.length;++t){var r,h,c=l[t],d=(n="string"==typeof e.ranges[c][0]?moment(e.ranges[c][0],this.locale.format):moment(e.ranges[c][0]),i="string"==typeof e.ranges[c][1]?moment(e.ranges[c][1],this.locale.format):moment(e.ranges[c][1]),this.minDate&&n.isBefore(this.minDate)&&(n=this.minDate.clone()),this.maxDate);(d=this.maxSpan&&d&&n.clone().add(this.maxSpan).isAfter(d)?n.clone().add(this.maxSpan):d)&&i.isAfter(d)&&(i=d.clone()),this.minDate&&i.isBefore(this.minDate,this.timepicker?"minute":"day")||d&&n.isAfter(d,this.timepicker?"minute":"day")||((r=document.createElement("textarea")).innerHTML=c,h=r.value,this.ranges[h]=[n,i])}var m="<ul>";for(a in this.ranges)m+='<li data-range-key="'+a+'">'+a+"</li>";this.showCustomRangeLabel&&(m+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),m+="</ul>",this.container.querySelector(".ranges").insertAdjacentHTML("afterbegin",m)}"function"==typeof s&&(this.callback=s),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.style.display="none",this.container.querySelector(".calendar-time").display),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.classList.add("auto-apply"),"object"==typeof e.ranges&&this.container.classList.add("show-ranges"),this.singleDatePicker&&(this.container.classList.add("single"),this.container.querySelector(".drp-calendar.left").classList.add("single"),this.container.querySelector(".drp-calendar.left").style.display="block",this.container.querySelector(".drp-calendar.right").style.display="none",!this.timePicker)&&this.autoApply&&this.container.classList.add("auto-apply"),(void 0===e.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.classList.add("show-calendar"),this.container.classList.add("opens"+this.opens);var u=this.container.querySelector(".applyBtn"),t=this.container.querySelector(".cancelBtn"),s=(I.addClass(u,this.buttonClasses),I.addClass(t,this.buttonClasses),this.applyButtonClasses.length&&I.addClass(u,this.applyButtonClasses),this.cancelButtonClasses.length&&I.addClass(t,this.cancelButtonClasses),I.html(u,this.locale.applyLabel),I.html(t,this.locale.cancelLabel),this.clickRangeProxy=function(t){this.clickRange(t)}.bind(this),I.on(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy),this.container.querySelector(".drp-buttons"));this.clickApplyProxy=function(t){this.clickApply(t)}.bind(this),I.on(s,"click","button.applyBtn",this.clickApplyProxy),this.clickCancelProxy=function(t){this.clickCancel(t)}.bind(this),I.on(s,"click","button.cancelBtn",this.clickCancelProxy),"INPUT"===this.element.tagName||"BUTTON"===this.element.tagName?(this.showProxy=function(t){this.show(t)}.bind(this),I.on(this.element,"click",this.showProxy),I.on(this.element,"focus",this.showProxy),this.elementChangedProxy=function(t){this.elementChanged(t)}.bind(this),I.on(this.element,"keyup",this.elementChangedProxy),this.keydownProxy=function(t){this.keydown(t)}.bind(this),I.on(this.element,"keydown",this.keydownProxy)):(this.toggleProxy=function(t){this.toggle(t)}.bind(this),I.on(this.element,"click",this.toggleProxy),I.on(this.element,"keydown",this.toggleProxy)),this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement()}).prototype={constructor:DateRangePicker,setStartDate:function(t){"string"==typeof t&&(this.startDate=moment(t,this.locale.format)),"object"==typeof t&&(this.startDate=moment(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker)&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker)&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=moment(t,this.locale.format)),"object"==typeof t&&(this.endDate=moment(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),I.html(this.container.querySelector(".drp-selected"),this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){if(this.timePicker){this.renderTimePicker("left"),this.renderTimePicker("right");var e=this.container.querySelectorAll(".right .calendar-time select");if(this.endDate)for(let t=0;t<e.length;++t)e[t].disabled=!1,e[t].classList.remove("disabled");else for(let t=0;t<e.length;++t)e[t].disabled=!0,e[t].classList.add("disabled")}this.endDate&&I.html(this.container.querySelector(".drp-selected"),this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){this.clickPrevProxy||(this.clickPrevProxy=function(t){this.clickPrev(t)}.bind(this)),this.clickNextProxy||(this.clickNextProxy=function(t){this.clickNext(t)}.bind(this)),this.clickDateProxy||(this.clickDateProxy=function(t){this.clickDate(t)}.bind(this)),this.hoverDateProxy||(this.hoverDateProxy=function(t){this.hoverDate(t)}.bind(this)),this.monthOrYearChangedProxy||(this.monthOrYearChangedProxy=function(t){this.monthOrYearChanged(t)}.bind(this)),this.timeChangedProxy||(this.timeChangedProxy=function(t){this.timeChanged(t)}.bind(this));var t,e,s,i,a=this.container.querySelectorAll(".drp-calendar");I.off(a,"click",".prev",this.clickPrevProxy),I.off(a,"click",".next",this.clickNextProxy),I.off(a,"mousedown","td.available",this.clickDateProxy),I.off(a,"mouseenter","td.available",this.hoverDateProxy),I.off(a,"change","select.yearselect",this.monthOrYearChangedProxy),I.off(a,"change","select.monthselect",this.monthOrYearChangedProxy),I.off(a,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),this.timePicker&&(this.endDate?(e=parseInt(this.container.querySelector(".left .hourselect").value,10),s=parseInt(this.container.querySelector(".left .minuteselect").value,10),isNaN(s)&&(s=parseInt(I.findLast(this.container.querySelector(".left .minuteselect")).value,10)),t=this.timePickerSeconds?parseInt(this.container.querySelector(".left .secondselect").value,10):0,this.timePicker24Hour||("PM"===(i=this.container.querySelector(".left .ampmselect").value)&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0))):(e=parseInt(this.container.querySelector(".right .hourselect").value,10),s=parseInt(this.container.querySelector(".right .minuteselect").value,10),isNaN(s)&&(s=parseInt(I.findLast(this.container.querySelector(".right .minuteselect")).value,10)),t=this.timePickerSeconds?parseInt(this.container.querySelector(".right .secondselect").value,10):0,this.timePicker24Hour||("PM"===(i=this.container.querySelector(".right .ampmselect").value)&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0))),this.leftCalendar.month.hour(e).minute(s).second(t),this.rightCalendar.month.hour(e).minute(s).second(t)),this.renderCalendar("left"),this.renderCalendar("right"),rangesLiElList=this.container.querySelectorAll(".ranges li");for(let t=0;t<rangesLiElList.length;++t)rangesLiElList[t].classList.remove("active");null!=this.endDate&&this.calculateChosenLabel(),I.on(a,"click",".prev",this.clickPrevProxy),I.on(a,"click",".next",this.clickNextProxy),I.on(a,"mousedown","td.available",this.clickDateProxy),I.on(a,"mouseenter","td.available",this.hoverDateProxy),I.on(a,"change","select.yearselect",this.monthOrYearChangedProxy),I.on(a,"change","select.monthselect",this.monthOrYearChangedProxy),I.on(a,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy)},renderCalendar:function(t){var e="left"==t?this.leftCalendar:this.rightCalendar,s=e.month.month(),i=e.month.year(),a=e.month.hour(),n=e.month.minute(),o=e.month.second(),l=moment([i,s]).daysInMonth(),r=moment([i,s,1]),i=moment([i,s,l]),s=moment(r).subtract(1,"month").month(),l=moment(r).subtract(1,"month").year(),h=moment([l,s]).daysInMonth(),c=r.day();(e=[]).firstDay=r,e.lastDay=i;for(var d=0;d<6;d++)e[d]=[];for(var r=h-c+this.locale.firstDay+1,m=(h<r&&(r-=7),c==this.locale.firstDay&&(r=h-6),moment([l,s,r,12,n,o])),d=0,u=0,f=0;d<42;d++,u++,m=moment(m).add(24,"hour"))0<d&&u%7==0&&(u=0,f++),e[f][u]=m.clone().hour(a).minute(n).second(o),m.hour(12),this.minDate&&e[f][u].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[f][u].isBefore(this.minDate)&&"left"==t&&(e[f][u]=this.minDate.clone()),this.maxDate&&e[f][u].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[f][u].isAfter(this.maxDate)&&"right"==t&&(e[f][u]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var p="left"==t?this.minDate:this.startDate,y=this.maxDate,D=("left"==t?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">'),i=(D=D+"<thead>"+"<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(D+="<th></th>"),p&&!p.isBefore(e.firstDay)||this.linkedCalendars&&"left"!=t?D+="<th></th>":D+='<th class="prev available"><span></span></th>',this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY"));if(this.showDropdowns){for(var g=e[1][1].month(),k=e[1][1].year(),b=y&&y.year()||this.maxYear,c=p&&p.year()||this.minYear,v=k==c,P=k==b,x='<select class="monthselect">',C=0;C<12;C++)(!v||p&&C>=p.month())&&(!P||y&&C<=y.month())?x+="<option value='"+C+"'"+(C===g?" selected='selected'":"")+">"+this.locale.monthNames[C]+"</option>":x+="<option value='"+C+"'"+(C===g?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[C]+"</option>";x+="</select>";for(var S='<select class="yearselect">',Y=c;Y<=b;Y++)S+='<option value="'+Y+'"'+(Y===k?' selected="selected"':"")+">"+Y+"</option>";i=x+(S+="</select>")}D+='<th colspan="5" class="month">'+i+"</th>",y&&!y.isAfter(e.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?D+="<th></th>":D+='<th class="next available"><span></span></th>',D+="</tr><tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(D+='<th class="week">'+this.locale.weekLabel+"</th>");for(let t=0;t<this.locale.daysOfWeek.length;++t)D+="<th>"+this.locale.daysOfWeek[t]+"</th>";D+="</tr></thead><tbody>",null==this.endDate&&this.maxSpan&&(h=this.startDate.clone().add(this.maxSpan).endOf("day"),y&&!h.isBefore(y)||(y=h));for(f=0;f<6;f++){D+="<tr>",this.showWeekNumbers?D+='<td class="week">'+e[f][0].week()+"</td>":this.showISOWeekNumbers&&(D+='<td class="week">'+e[f][0].isoWeek()+"</td>");for(u=0;u<7;u++){for(var w=[],L=(e[f][u].isSame(new Date,"day")&&w.push("today"),5<e[f][u].isoWeekday()&&w.push("weekend"),e[f][u].month()!=e[1][1].month()&&w.push("off","ends"),this.minDate&&e[f][u].isBefore(this.minDate,"day")&&w.push("off","disabled"),y&&e[f][u].isAfter(y,"day")&&w.push("off","disabled"),this.isInvalidDate(e[f][u])&&w.push("off","disabled"),e[f][u].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&w.push("active","start-date"),null!=this.endDate&&e[f][u].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&w.push("active","end-date"),null!=this.endDate&&e[f][u]>this.startDate&&e[f][u]<this.endDate&&w.push("in-range"),this.isCustomDate(e[f][u])),M=(!1!==L&&("string"==typeof L?w.push(L):Array.prototype.push.apply(w,L)),""),E=!1,d=0;d<w.length;d++)M+=w[d]+" ","disabled"==w[d]&&(E=!0);E||(M+="available"),D+='<td class="'+M.replace(/^\s+|\s+$/g,"")+'" data-title="r'+f+"c"+u+'">'+e[f][u].date()+"</td>"}D+="</tr>"}D+="</tbody></table>",I.html(this.container.querySelector(".drp-calendar."+t+" .calendar-table"),D)},renderTimePicker:function(t){if("right"!=t||this.endDate){for(var e,s,i=this.maxDate,a=(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(i=this.startDate.clone().add(this.maxSpan)),"left"==t?(e=this.startDate.clone(),s=this.minDate):"right"==t&&(e=this.endDate.clone(),s=this.startDate,""!=(a=this.container.querySelector(".drp-calendar.right .calendar-time")).innerHTML&&(e.hour(isNaN(e.hour())?I.findSelectedOption(a.querySelector(".hourselect")).value:e.hour()),e.minute(isNaN(e.minute())?I.findSelectedOption(a.querySelector(".minuteselect")).value:e.minute()),e.second(isNaN(e.second())?I.findSelectedOption(a.querySelector(".secondselect")).value:e.second()),this.timePicker24Hour||("PM"===(a=I.findSelectedOption(a.querySelector(".ampmselect")).value)&&e.hour()<12&&e.hour(e.hour()+12),"AM"===a&&12===e.hour()&&e.hour(0))),e.isBefore(this.startDate)&&(e=this.startDate.clone()),i)&&e.isAfter(i)&&(e=i.clone()),d='<select class="hourselect">',this.timePicker24Hour?0:1),n=this.timePicker24Hour?23:12,o=a;o<=n;o++){var l=o,r=(this.timePicker24Hour||(l=12<=e.hour()?12==o?12:o+12:12==o?0:o),e.clone().hour(l)),h=!1;s&&r.minute(59).isBefore(s)&&(h=!0),i&&r.minute(0).isAfter(i)&&(h=!0),l!=e.hour()||h?d+=h?'<option value="'+o+'" disabled="disabled" class="disabled">'+o+"</option>":'<option value="'+o+'">'+o+"</option>":d+='<option value="'+o+'" selected="selected">'+o+"</option>"}for(var c,d=d+"</select> "+': <select class="minuteselect">',o=0;o<60;o+=this.timePickerIncrement){var m=o<10?"0"+o:o,r=e.clone().minute(o),h=!1;s&&r.second(59).isBefore(s)&&(h=!0),i&&r.second(0).isAfter(i)&&(h=!0),e.minute()!=o||h?d+=h?'<option value="'+o+'" disabled="disabled" class="disabled">'+m+"</option>":'<option value="'+o+'">'+m+"</option>":d+='<option value="'+o+'" selected="selected">'+m+"</option>"}if(d+="</select> ",this.timePickerSeconds){d+=': <select class="secondselect">';for(o=0;o<60;o++){m=o<10?"0"+o:o,r=e.clone().second(o),h=!1;s&&r.isBefore(s)&&(h=!0),i&&r.isAfter(i)&&(h=!0),e.second()!=o||h?d+=h?'<option value="'+o+'" disabled="disabled" class="disabled">'+m+"</option>":'<option value="'+o+'">'+m+"</option>":d+='<option value="'+o+'" selected="selected">'+m+"</option>"}d+="</select> "}this.timePicker24Hour||(d+='<select class="ampmselect">',c=a="",s&&e.clone().hour(12).minute(0).second(0).isBefore(s)&&(a=' disabled="disabled" class="disabled"'),i&&e.clone().hour(0).minute(0).second(0).isAfter(i)&&(c=' disabled="disabled" class="disabled"'),12<=e.hour()?d+='<option value="AM"'+a+'>AM</option><option value="PM" selected="selected"'+c+">PM</option>":d+='<option value="AM" selected="selected"'+a+'>AM</option><option value="PM"'+c+">PM</option>",d+="</select>"),I.html(this.container.querySelector(".drp-calendar."+t+" .calendar-time"),d)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.querySelector("button.applyBtn").disabled=!1:this.container.querySelector("button.applyBtn").disabled=!0},move:function(){var t,e={top:0,left:0},s=this.drops,i=window.innerWidth,a=("BODY"!==this.parentEl.tagName&&(e={top:(o=I.offset(this.parentEl)).top-this.parentEl.scrollTop,left:o.left-this.parentEl.scrollLeft},i=this.parentEl.clientWidth+o.left),I.offset(this.element));switch(s){case"auto":(t=a.top+this.element.offsetHeight-e.top)+this.container.offsetHeight>=this.parentEl.scrollHeight&&(t=a.top-this.container.offsetHeight-e.top,s="up");break;case"up":t=a.top-this.container.offsetHeight-e.top;break;default:t=a.top+this.element.offsetHeight-e.top}this.container.style.top="0",this.container.style.left="0",this.container.style.right="auto";var n,o=this.container.offsetWidth;"up"==s?this.container.classList.add("drop-up"):this.container.classList.remove("drop-up"),"left"==this.opens?o+(i=i-a.left-this.element.offsetWidth)>window.innerWidth?(this.container.style.top=t+"px",this.container.style.right="auto",this.container.style.left="9px"):(this.container.style.top=t+"px",this.container.style.right=i+"px",this.container.style.left="auto"):"center"==this.opens?(n=a.left-e.left+this.element.offsetWidth/2-o/2)<0?(this.container.style.top=t+"px",this.container.style.right="auto",this.container.style.left="9px"):n+o>window.innerWidth?(this.container.style.top=t+"px",this.container.style.left="auto",this.container.style.right="0"):(this.container.style.top=t+"px",this.container.style.left=n+"px",this.container.style.right="auto"):(n=a.left-e.left)+o>window.innerWidth?(this.container.style.top=t+"px",this.container.style.left="auto",this.container.style.right="0"):(this.container.style.top=t+"px",this.container.style.left=n+"px",this.container.style.right="auto")},show:function(t){this.isShowing||(this._outsideClickProxy||(this._outsideClickProxy=function(t){this.outsideClick(t)}.bind(this)),document.addEventListener("mousedown",this._outsideClickProxy),document.addEventListener("touchend",this._outsideClickProxy),I.on(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.addEventListener("focusin",this._outsideClickProxy),this.moveProxy||(this.moveProxy=function(t){this.move(t)}.bind(this)),window.addEventListener("resize",this.moveProxy),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.style.display="block",this.move(),this.element.dispatchEvent(new CustomEvent("show.daterangepicker",{bubbles:!0,detail:this})),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),this._outsideClickProxy&&(document.removeEventListener("mousedown",this._outsideClickProxy),document.removeEventListener("touchend",this._outsideClickProxy),I.off(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.removeEventListener("focusin",this._outsideClickProxy)),this.moveProxy&&window.removeEventListener("resize",this.moveProxy),this.container.style.display="none",this.element.dispatchEvent(new CustomEvent("hide.daterangepicker",{bubbles:!0,detail:this})),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=t.target;"focusin"==t.type||e.closest(I.getSelectorFromElement(this.element))||e.closest(I.getSelectorFromElement(this.container))||e.closest(".calendar-table")||(this.hide(),this.element.dispatchEvent(new CustomEvent("outsideClick.daterangepicker",{bubbles:!0,detail:this})))},showCalendars:function(){this.container.classList.add("show-calendar"),this.move(),this.element.dispatchEvent(new CustomEvent("showCalendar.daterangepicker",{bubbles:!0,detail:this}))},hideCalendars:function(){this.container.classList.remove("show-calendar"),this.element.dispatchEvent(new CustomEvent("hideCalendar.daterangepicker",{bubbles:!0,detail:this}))},clickRange:function(t){var e=t.target.dataset.rangeKey;(this.chosenLabel=e)==this.locale.customRangeLabel?this.showCalendars():(e=this.ranges[e],this.startDate=e[0],this.endDate=e[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.autoApply?this.clickApply(t):this.updateView())},clickPrev:function(t){t.target.closest(".drp-calendar").classList.contains("left")&&(this.leftCalendar.month.subtract(1,"month"),!this.linkedCalendars)||this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){(t.target.closest(".drp-calendar").classList.contains("left")||(this.rightCalendar.month.add(1,"month"),this.linkedCalendars))&&this.leftCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){if(t.target.classList.contains("available")){var e=(r=t.target.dataset.title).substr(1,1),s=r.substr(3,1),i=(t.target.closest(".drp-calendar").classList.contains("left")?this.leftCalendar:this.rightCalendar).calendar[e][s],a=this.leftCalendar,n=this.rightCalendar,o=this.startDate;if(!this.endDate){var l=this.container.querySelectorAll(".drp-calendar tbody td");for(let t=0;t<l.length;++t){if(l[t].classList.contains("week"))return;var r,e=(r=l[t].dataset.title).substr(1,1),s=r.substr(3,1),h=(l[t].closest(".drp-calendar").classList.contains("left")?a:n).calendar[e][s];h.isAfter(o)&&h.isBefore(i)||h.isSame(i,"day")?l[t].classList.add("in-range"):l[t].classList.remove("in-range")}}}},clickDate:function(t){var e,s,i,a,n,o;t.target.classList.contains("available")&&(s=(e=t.target.dataset.title).substr(1,1),e=e.substr(3,1),s=(t.target.closest(".drp-calendar").classList.contains("left")?this.leftCalendar:this.rightCalendar).calendar[s][e],this.endDate||s.isBefore(this.startDate,"day")?(this.timePicker&&(i=parseInt(this.container.querySelector(".left .hourselect").value,10),this.timePicker24Hour||("PM"===(a=this.container.querySelector(".left .ampmselect").value)&&i<12&&(i+=12),"AM"===a&&12===i&&(i=0)),n=parseInt(this.container.querySelector(".left .minuteselect").value,10),isNaN(n)&&(n=parseInt(this.container.querySelector(".left .minuteselect option:last").value,10)),o=this.timePickerSeconds?parseInt(this.container.querySelector(".left .secondselect").value,10):0,s=s.clone().hour(i).minute(n).second(o)),this.endDate=null,this.setStartDate(s.clone())):!this.endDate&&s.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(i=parseInt(this.container.querySelector(".right .hourselect").value,10),this.timePicker24Hour||("PM"===(a=this.container.querySelector(".right .ampmselect").value)&&i<12&&(i+=12),"AM"===a&&12===i&&(i=0)),n=parseInt(this.container.querySelector(".right .minuteselect").value,10),isNaN(n)&&(n=parseInt(this.container.querySelector(".right .minuteselect option:last").value,10)),o=this.timePickerSeconds?parseInt(this.container.querySelector(".right .secondselect").value,10):0,s=s.clone().hour(i).minute(n).second(o)),this.setEndDate(s.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply(t))),this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker)&&this.autoApply&&this.clickApply(t),this.updateView(),t.stopPropagation())},calculateChosenLabel:function(){var t,e=!0,s=Object.keys(this.ranges);for(let t=0;t<s.length;++t){var i=this.ranges[s[t]];if(this.timePicker){var a=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(a)==i[0].format(a)&&this.endDate.format(a)==i[1].format(a)){e=!1,a=this.container.querySelectorAll(".ranges li");a[t].classList.add("active"),this.chosenLabel=a[t].dataset.rangeKey;break}}else if(this.startDate.format("YYYY-MM-DD")==i[0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==i[1].format("YYYY-MM-DD")){e=!1;a=this.container.querySelectorAll(".ranges li");a[t].classList.add("active"),this.chosenLabel=a[t].dataset.rangeKey;break}}e&&(this.showCustomRangeLabel&&(t=I.findLast(this.container.querySelectorAll(".ranges li")))?(t.classList.add("active"),this.chosenLabel=t.dataset.rangeKey):this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),t.target.dispatchEvent(new CustomEvent("apply.daterangepicker",{bubbles:!0,detail:this}))},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),t.target.dispatchEvent(new CustomEvent("cancel.daterangepicker",{bubbles:!0,detail:this}))},monthOrYearChanged:function(t){var t=t.target.closest(".drp-calendar").classList.contains("left"),e=this.container.querySelector(".drp-calendar."+(t?"left":"right")),s=parseInt(e.querySelector(".monthselect").value,10),e=e.querySelector(".yearselect").value;t||(e<this.startDate.year()||e==this.startDate.year()&&s<this.startDate.month())&&(s=this.startDate.month(),e=this.startDate.year()),this.minDate&&(e<this.minDate.year()||e==this.minDate.year()&&s<this.minDate.month())&&(s=this.minDate.month(),e=this.minDate.year()),this.maxDate&&(e>this.maxDate.year()||e==this.maxDate.year()&&s>this.maxDate.month())&&(s=this.maxDate.month(),e=this.maxDate.year()),t?(this.leftCalendar.month.month(s).year(e),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(s).year(e),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var t=t.target.closest(".drp-calendar"),e=t.classList.contains("left"),s=parseInt(t.querySelector(".hourselect").value,10),i=parseInt(t.querySelector(".minuteselect").value,10),a=(isNaN(i)&&(i=parseInt(I.findLast(t.querySelectorAll(".minuteselect option")).value,10)),this.timePickerSeconds?parseInt(t.querySelector(".secondselect").value,10):0),t=(this.timePicker24Hour||("PM"===(t=t.querySelector(".ampmselect").value)&&s<12&&(s+=12),"AM"===t&&12===s&&(s=0)),e?((t=this.startDate.clone()).hour(s),t.minute(i),t.second(a),this.setStartDate(t),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==t.format("YYYY-MM-DD")&&this.endDate.isBefore(t)&&this.setEndDate(t.clone())):this.endDate&&((e=this.endDate.clone()).hour(s),e.minute(i),e.second(a),this.setEndDate(e)),this.updateCalendars(),this.updateFormInputs(),this.container.querySelectorAll(".drp-calendar"));I.off(t,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),this.renderTimePicker("left"),this.renderTimePicker("right"),I.on(t,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy)},elementChanged:function(){var t,e,s;"INPUT"===this.element.tagName&&this.element.value&&this.element.value.length&&(s=e=null,2===(t=this.element.value.split(this.locale.separator)).length&&(e=moment(t[0],this.locale.format),s=moment(t[1],this.locale.format)),!this.singleDatePicker&&null!==e&&null!==s||(s=e=moment(this.element.value,this.locale.format)),e.isValid())&&s.isValid()&&(this.setStartDate(e),this.setEndDate(s),this.updateView())},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){let t="";t=this.startDate.format("Y")==this.endDate.format("Y")?this.startDate.format(this.locale.format).replace(this.startDate.format("Y"),"").replace(/^\W+|\W+$/g,""):this.startDate.format(this.locale.format),this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!=this.element.value&&("INPUT"===this.element.tagName&&this.autoUpdateInput?this.element.value=t:this.element.innerText=t,this.element.dispatchEvent(new CustomEvent("change.daterangepicker",{bubbles:!0,detail:this})))},remove:function(){this._outsideClickProxy&&(document.removeEventListener("mousedown",this._outsideClickProxy),document.removeEventListener("touchend",this._outsideClickProxy),I.off(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.removeEventListener("focusin",this._outsideClickProxy),delete this._outsideClickProxy),this.moveProxy&&(window.addEventListener("resize",this.moveProxy),delete this.moveProxy),this.clickRangeProxy&&(I.off(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy),delete this.clickRangeProxy);var t=this.container.querySelector(".drp-buttons"),t=(this.clickApplyProxy&&(I.off(t,"click","button.applyBtn",this.clickApplyProxy),delete this.clickApplyProxy),this.clickCancelProxy&&(I.off(t,"click","button.cancelBtn",this.clickCancelProxy),delete this.clickCancelProxy),"INPUT"===this.element.tagName||"BUTTON"===this.element.tagName?(this.showProxy&&(I.off(this.element,"click",this.showProxy),I.off(this.element,"focus",this.showProxy),delete this.showProxy),this.elementChangedProxy&&(I.off(this.element,"keyup",this.elementChangedProxy),delete this.elementChangedProxy),this.keydownProxy&&(I.off(this.element,"keydown",this.keydownProxy),delete this.keydownProxy)):this.toggleProxy&&(I.off(this.element,"click",this.toggleProxy),I.off(this.element,"keydown",this.toggleProxy),delete this.toggleProxy),this.container.querySelectorAll(".drp-calendar"));this.clickPrevProxy&&(I.off(t,"click",".prev",this.clickPrevProxy),delete this.clickPrevProxy),this.clickNextProxy&&(I.off(t,"click",".next",this.clickNextProxy),delete this.clickNextProxy),this.clickDateProxy&&(I.off(t,"mousedown","td.available",this.clickDateProxy),delete this.clickDateProxy),this.hoverDateProxy&&(I.off(t,"mouseenter","td.available",this.hoverDateProxy),delete this.hoverDateProxy),this.monthOrYearChangedProxy&&(I.off(t,"change","select.yearselect",this.monthOrYearChangedProxy),I.off(t,"change","select.monthselect",this.monthOrYearChangedProxy),delete this.monthOrYearChangedProxy),this.timeChangedProxy&&(I.off(t,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),delete this.timeChangedProxy),delete this.container,delete this.element.dataset},updateRanges:function(e){if("object"==typeof e){I.off(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy),this.ranges=[];var s=Object.keys(e);for(let t=0;t<s.length;++t){var i=s[t],a=(start="string"==typeof e[i][0]?moment(e[i][0],this.locale.format):moment(e[i][0]),end="string"==typeof e[i][1]?moment(e[i][1],this.locale.format):moment(e[i][1]),this.minDate&&start.isBefore(this.minDate)&&(start=this.minDate.clone()),this.maxDate);(a=this.maxSpan&&a&&start.clone().add(this.maxSpan).isAfter(a)?start.clone().add(this.maxSpan):a)&&end.isAfter(a)&&(end=a.clone()),this.minDate&&end.isBefore(this.minDate,this.timepicker?"minute":"day")||a&&start.isAfter(a,this.timepicker?"minute":"day")||((a=document.createElement("textarea")).innerHTML=i,i=a.value,this.ranges[i]=[start,end])}var t="<ul>";for(range in this.ranges)t+='<li data-range-key="'+range+'">'+range+"</li>";this.showCustomRangeLabel&&(t+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),t+="</ul>";var n=this.container.querySelector(".ranges");n.removeChild(n.firstChild),n.insertAdjacentHTML("afterbegin",t)}this.clickRangeProxy=function(t){this.clickRange(t)}.bind(this),I.on(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy)}};var I={addClassSub:function(e,t){var s=t.split(" ");for(let t=0;t<s.length;++t)e.classList.add(s[t].trim())},addClass:function(e,s){if(e)if("number"==typeof e.length)for(let t=0;t<e.length;++t)I.addClassSub(e[t],s);else I.addClassSub(e,s)},findLast:function(t){return t?"number"==typeof t.length?0<t.length?t[t.length-1]:null:t:null},findSelectedOption:function(e){if(e&&e.options&&e.options.length)for(let t=0;t<e.options.length;++t)if(e.options[t].selected)return e.options[t];return null},getSelectorFromElement:function(e){if(!(e&&e instanceof Element))return null;let s=e.nodeName.toLowerCase();if(e.id)return s+"#"+e.id;for(let t=0;t<e.classList.length;++t)s+="."+e.classList[t];return s},html:function(t,e){t&&(t.innerHTML=e)},offset:function(t){var e;return t&&t.getClientRects().length?(e=t.getBoundingClientRect(),t=t.ownerDocument.defaultView,{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}):{top:0,left:0}},offSub:function(e,s,i){if("number"==typeof e.length)for(let t=0;t<e.length;++t)e[t].removeEventListener(s,i);else e.removeEventListener(s,i)},off:function(e,s,i,a){if(e)if("function"==typeof i)I.offSub(e,s,i);else if("number"==typeof e.length)for(let t=0;t<e.length;++t)I.offSub(e[t].querySelectorAll(i),s,a);else I.offSub(e.querySelectorAll(i),s,a)},onSub:function(e,s,i){if("number"==typeof e.length)for(let t=0;t<e.length;++t)e[t].addEventListener(s,i);else e.addEventListener(s,i)},on:function(e,s,i,a){if(e)if("function"==typeof i)I.onSub(e,s,i);else if("number"==typeof e.length)for(let t=0;t<e.length;++t)I.onSub(e[t].querySelectorAll(i),s,a);else I.onSub(e.querySelectorAll(i),s,a)}}}();